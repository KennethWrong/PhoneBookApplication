(this.webpackJsonpexercise2=this.webpackJsonpexercise2||[]).push([[0],{38:function(e,t,n){"use strict";n.r(t);var c=n(2),o=n.n(c),r=n(14),a=n.n(r),i=n(3),s=n(4),u=n.n(s),d="api/persons",l=function(e){return u.a.get(d).then((function(e){return e.data}))},b=function(e,t){return u.a.put("".concat(d,"/").concat(e),t).then((function(e){return e.data}))},j=function(e){return u.a.post(d,e).then((function(e){return e.data}))},f=function(e){return u.a.delete("".concat(d,"/").concat(e.id)).then((function(e){return e.data}))},h=n(0),m=function(e){var t=e.message,n=e.status?{color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10}:{color:"red",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10};return null===t?null:Object(h.jsx)("div",{style:n,children:t})},O=function(e){var t=e.person,n=e.filter,c=e.setPersons,o=e.persons,r=e.setMessage,a=e.setStatus;return void 0===t.name?null:t.name.toLowerCase().includes(n.toLowerCase())?Object(h.jsxs)("div",{children:[t.name," ",t.number,Object(h.jsx)("button",{onClick:function(){!function(e,t,n,c,o){window.confirm("Delete ".concat(e.name," ?"))&&f(e).then((function(r){o(!0),c("".concat(e.name," has been removed sucessfully")),t(n.filter((function(t){return t.id!==e.id}))),setTimeout((function(){c(null)}),5e3)})).catch((function(t){o(!1),c("Information of ".concat(e.name," has already been deleted")),setTimeout((function(){c(null)}),5e3)}))}(t,c,o,r,a)},children:"delete"})]}):null},v=function(e,t,n){var c;t.forEach((function(t){void 0!==t.name&&t.name.toLowerCase()===e.name.toLowerCase()&&(c=t)}));var o=c.id,r="".concat(c.name," is already added to\n    the phonebook, replce the old number with a new one?");return!!window.confirm(r)&&(b(o,e).then((function(e){return n(t.map((function(t){return t.id!==o?t:e})))})),!0)},p=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],o=t[1],r=Object(c.useState)(""),a=Object(i.a)(r,2),s=a[0],u=a[1],d=Object(c.useState)(""),b=Object(i.a)(d,2),f=b[0],p=b[1],x=Object(c.useState)(""),g=Object(i.a)(x,2),w=g[0],S=g[1],C=Object(c.useState)(""),y=Object(i.a)(C,2),k=y[0],L=y[1],E=Object(c.useState)(!0),B=Object(i.a)(E,2),M=B[0],P=B[1];Object(c.useEffect)((function(){l().then((function(e){return o(n.concat(e))}))}),[]);return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Phonebook"}),Object(h.jsx)(m,{message:k,status:M}),Object(h.jsx)("form",{children:Object(h.jsxs)("div",{children:["filter shown with: ",Object(h.jsx)("input",{value:w,onChange:function(e){S(e.target.value)}})]})}),Object(h.jsx)("h2",{children:" Add a new Contact"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=!1,c=!1,r={name:s,number:f};n.forEach((function(e){void 0!==e.name&&e.name.toLowerCase()===s.toLowerCase()&&(t=!0)})),t?c=v(r,n,o):(c=!0,j(r).then((function(e){o(n.concat(e)),u(""),p("")}))),c&&(P(!0),L("".concat(r.name," has been added")),setTimeout((function(){L(null)}),5e3))},children:[Object(h.jsxs)("div",{children:["name: ",Object(h.jsx)("input",{value:s,onChange:function(e){u(e.target.value)}})]}),Object(h.jsxs)("div",{children:["number: ",Object(h.jsx)("input",{value:f,onChange:function(e){p(e.target.value)}})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",children:"add"})})]}),Object(h.jsx)("h2",{children:"Numbers"}),Object(h.jsx)("ul",{children:n.map((function(e){return Object(h.jsx)(O,{person:e,filter:w,setPersons:o,persons:n,setMessage:L,setStatus:P},e.id)}))})]})};a.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(p,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.a03f1f31.chunk.js.map